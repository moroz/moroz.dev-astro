---
import { getSortedPosts } from "../../lib/blog";
import { getEntryBySlug } from "astro:content";
import BlogPost from '../../layouts/BlogPost.astro';

export async function getStaticPaths() {
  const allPosts = await getSortedPosts();
  return allPosts.map((post) => (
    { params: { slug: post.slug }, props: { post } }
  ))
}

const post = Astro.props.post;
const { Content } = await post.render();
---

<BlogPost title={post.data.title}>
  <Content />
</BlogPost>
