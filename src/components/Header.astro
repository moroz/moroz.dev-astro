<script hoist>
  import "vanilla-hamburger/fade-burger.js";

  const burger = document.querySelector("fade-burger");
  const nav = document.querySelector("#dropdown");

  burger?.addEventListener("pressed-changed", (e) => {
    nav?.classList.toggle("is-open", e.detail.value);
  });
</script>

<header id="header">
  <a href="/">
    <h1>moroz.dev</h1>
  </a>

  <fade-burger></fade-burger>

  <nav id="dropdown">
    <a href="/">Home</a>
    <a href="/blog">Blog</a>
    <a href="/contact">Contact</a>
    <a href="/videos">Videos</a>
    <a href="/resume.pdf" target="_blank" rel="noopener noreferrer"
      >R&eacute;sum&eacute;</a
    >
  </nav>
</header>

<style lang="scss">
  @import "../styles/_variables.sass";

  header {
    height: $header-height;
    line-height: $header-height;
    display: flex;
    align-items: center;
    position: fixed;
    left: 0;
    right: 0;
    border-bottom: 1px solid var(--border);
    padding: 0 1rem;
    z-index: 10;
    transition: background 0.2s ease-in-out;
    background: var(--surface-bg);

    @include gt-mobile {
      overflow: hidden;
    }
  }

  h1 {
    line-height: 0;
    font-size: 1.5rem;
    color: var(--body-fg);
  }

  fade-burger {
    @include gt-mobile {
      display: none;
    }

    margin-left: auto;
  }

  nav {
    margin-left: auto;
    margin-right: 1rem;

    @include mobile {
      &:not(.is-open) {
        display: none;
      }

      flex-direction: column;
      position: absolute;
      top: $header-height;
      left: 0;
      right: 0;
      background: var(--body-bg);
      text-align: center;
    }

    display: flex;
    gap: 0.25rem;

    a:link,
    a:visited {
      color: inherit;
      display: inline-block;
      padding: 0 0.8em;
      transition: background 0.1s ease-in-out;
    }

    a:hover {
      background: var(--surface-hover-bg);
    }
  }
</style>
